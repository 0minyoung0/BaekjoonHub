# [Unrated] 배열과 연산 - 15932 

[문제 링크](https://www.acmicpc.net/problem/15932) 

### 성능 요약

메모리: 14356 KB, 시간: 108 ms

### 분류

분류 없음

### 제출 일자

2025년 1월 14일 20:45:23

### 문제 설명

<p>크기가 n인 정수 배열 X가 있고, 0으로 초기화되어있다. 이 배열에 연산을 q번 적용하려고 한다.</p>

<p>배열에 적용할 수 있는 연산은 아래와 같이 두 종류가 있다.</p>

<ul>
	<li>덧셈: 모든 X[i]에 i를 더한다. (0 ≤ i < n)</li>
	<li>뒤집기: 뒤집기 연산을 사용하려면 i ≤ j를 만족하는 i와 j가 필요하다. X[i]부터 X[j]까지 원소의 순서를 모두 뒤집는다. 즉, X[i], X[i+1], ..., X[j-1], X[j]의 순서가 뒤집힌다.</li>
</ul>

<p>예를 들어, n = 6이고, 아래와 같이 연산을 다섯 번 적용한 경우를 살펴보자.</p>

<ol>
	<li>덧셈</li>
	<li>덧셈</li>
	<li>뒤집기 i = 0, j = 4</li>
	<li>덧셈</li>
	<li>뒤집기 i = 2, j = 5</li>
</ol>

<p>가장 처음에 X는 [0, 0, 0, 0, 0, 0]이다. 각 연산을 사용한 결과는 아래와 같다.</p>

<ol>
	<li>[0, 1, 2, 3, 4, 5]</li>
	<li>[0, 2, 4, 6, 8, 10]</li>
	<li>[8, 6, 4, 2, 0, 10]</li>
	<li>[8, 7, 6, 5, 4, 15]</li>
	<li>[8, 7, 15, 4, 5, 6]</li>
</ol>

<p>배열의 크기 n과 적용한 연산의 수 q, 그리고 적용한 연산이 주어졌을 때, 배열 X에 담겨있는 수를 구해보려고 한다.</p>

<p>크기가 m인 배열 Y가 주어졌을 때, 모든 연산을 적용한 후의 X[Y[i]] 값을 구해보자.</p>

### 입력 

 <p>첫째 줄에 세 정수 n, q, m이 주어진다. (1 ≤ n ≤ 1,000,000, 0 ≤ q ≤ 10,000, 1 ≤ m ≤ 5,000).</p>

<p>다음 q개의 줄에 결처 연산이 한 줄에 하나씩 주어진다. 각 줄은 'a'나 'r'로 시작한다. 이 대, 'a'는 덧셈 연산을 나타내고, 'r'은 뒤집기 연산을 나타낸다. 'r'이 주어진 경우, 그 뒤에 공백으로 구분된 두 정수 i, j가 주어진다. (0 ≤ i ≤ j < n)</p>

<p>마지막 줄에는 배열 Y를 나타내는 m개의 정수가 순서대로 주어진다. (0 ≤ Y[i] < n)</p>

### 출력 

 <p>총 m개의 줄에 X[Y[i]]값을 순서대로 한 줄에 하나씩 출력한다.</p>

